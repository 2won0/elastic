input {
  file {
    path => "/home/ec2-user/fc/logstash-5.6.4/sample/titanic.csv"
  }
}

filter {
  csv {
    columns => ["Index", "Name", "Survival", "Pclass", "Sex", "Age", "SibSp", "Parch", "Ticket", "Fare", "Embarked"]
    separator => ","
    skip_empty_columns => true
    convert => {
      "Pclass" => "integer"
      "Index" => "integer"
      "Survival" => "integer"
      "Age" => "integer"
      "Fare" => "float"
    }
  }
}

output {
  stdout {
    codec => rubydebug
  }
  elasticsearch {
   hosts => ["13.125.35.175:9200"]
   index => "gee"
   document_id => "%{Index}"
  }
}
